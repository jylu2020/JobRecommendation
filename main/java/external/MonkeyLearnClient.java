package external;

import java.util.ArrayList;
import java.util.List;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;

import com.monkeylearn.ExtraParam;
import com.monkeylearn.MonkeyLearn;
import com.monkeylearn.MonkeyLearnException;
import com.monkeylearn.MonkeyLearnResponse;

public class MonkeyLearnClient {
    private static final String API_KEY = "3262ec7dc64d2707b1d3c80cab68bfaeca7683d2";
       public static void main(String[] args) {
        
        String[] textList = {
        		"<h2><strong>About the position</strong></h2>\n<p>You love web application development and you enjoy seeing businesses grow. You've been in the business for a few years now. You’ve done the whole startup thing and you're ready to find something a little more meaty. Working as one of many developers isn't appealing to you anymore and the commute to San Francisco isn't doing it for you either. You're ready to be part of a team, and you want to own the product vision. You love making great things used by people, not just creating code, but contributing and leading projects to success.</p>\n<p>Helio has shown 20% quarter over quarter sales growth, and we need a senior engineer to shape and grow <a href=\"http://helio.app/\">our Helio platform</a>. Specifically we’re looking for a full stack engineer (Front-end -&gt; Ruby on Rails -&gt; Networking/AWS) who wants to own the vision. We're looking for a driven individual to push development forward, work with our active and passionate customers, and take Helio to the next level.</p>\n<p><strong>Who we are</strong></p>\n<p>We're a team of driven product designers who believe in rapid prototyping, researching on the fly and teaching people how to make better products. We've been around since 1998, creating world-class products that hundreds of millions of people actually use. We believe Design, with a capital \"D\", can change the world, and we’re making it happen. You’ll have the opportunity to build better products that solve problems and meet our customers needs.</p>\n<p>We want to change the way people create products and services to bring behavioral data into everyday creative decisions.</p>\n<p><strong>What Your Day Will Look Like</strong></p>\n<p>Working closely with the team, you’ll spend time planning and developing on the roadmap. Some days you’ll be working on a new feature. Other days you will be deep into code, addressing architecture or fixing a tricky bug. All the while, working with the team to galvanize the momentum we’ve created with our customers.</p>\n<p>You’ll work with our awesome team to learn Progressive Design — ZURB’s flagship design process — and how it applies to Helio. At the end of the day, you'll find that you are more than just a developer, you’re working with a world-class design organization, helping millions of people design for people and making a difference in the product community -- and that's pretty awesome.</p>\n<h3><strong>What You Bring To The Table</strong></h3>\n<ul>\n<li>5-10 years of development experience working in a startup, independent contractor, or similar environment.</li>\n<li>Should be comfortable in the full stack (Front-end -&gt; Ruby on Rails -&gt; Networking/AWS). You’ll need a solid grasp of Ruby on Rails.</li>\n<li>Very comfortable with SQL (We use PostgreSQL and MySQL).</li>\n<li>Very comfortable with at least one modern front-end framework (React, VueJS, Angular). We use VueJS and AngularJS as well as Stimulus.</li>\n<li>Should be familiar with common software design patterns (observer pattern, facade pattern) .</li>\n<li>Should be familiar with server security updates, <a href=\"https://www.ruby-lang.org/en/\">Ruby security patches</a>, and support third party audits.</li>\n<li>Familiarity with AWS (EC2/RDS/VPC/IAM/etc).</li>\n<li>Familiarity with video encoding and prototyping tools.</li>\n<li>Familiarity with CI/CD (Continuous Integration/Continuous Deploy), we use CircleCI.</li>\n<li>Familiarity with generating financial reports, participant payouts and dealing with GDPR requests for removal.</li>\n</ul>\n<h3><strong>Other skills we’re looking for</strong></h3>\n<ul>\n<li>Natural sense of curiosity, and maintains a strong point of view. You enjoy sharing your ideas and listening to the ideas of your teammates. You write well.</li>\n<li>Experience delivering solid products over and over again.</li>\n<li>An enthusiasm for coaching and teaching people on our team.</li>\n</ul>\n<h3><strong>A little more about us</strong></h3>\n<p>ZURB is a close-knit product design team based in Campbell, CA. We've been around since 1998, have helped more than 500 startups design some kick-ass online products and created many of our own products, like Foundation. Our customers range from large, well-known companies (Netflix, Hulu, eBay, Samsung, Mozilla, Facebook, Columbia) to start-ups. They all came to us because of our reputation for delivering killer ideas that work.</p>\n", 
        		"<p>At BlueVine, we’re transforming how businesses get access to working capital financing. Founded in 2013, our online lending platform has helped 10,000+ business owners simplify their cashflow management, boost growth, and take advantage of new opportunities. As a leading FinTech company, we’re backed by Menlo Ventures, LightSpeed Ventures, 83North, Silicon Valley Bank, Citi Ventures, Microsoft Ventures and Nationwide Insurance among other notable investors. Our clients love us, the market we’re going after is huge, and we’re just getting started.</p>\n<p>We’re looking for exceptional people to help deliver the next generation of business financing solutions. We are a group of fun, creative, and motivated people that like to tackle challenges head on. If you have a strong desire to be part of a small, agile team, in an exciting and growing space, you’ll find your next job at BlueVine.</p>\n<p>As a <strong>Senior Python Developer</strong> at BlueVine you will be an important part of leading our platform development, and be a key member of our tech team.</p>\n<p><strong>BENEFITS &amp; PERKS:</strong></p>\n<ul>\n<li>Receive over $1,000 annually for a wellness benefit of your choice</li>\n<li>Free commuter benefits - CalTrain passes for SF employees and a monthly parking allowance for SF/NJ employees</li>\n<li>Weekly catered lunches</li>\n<li>Unlimited snacks in fully stocked kitchens</li>\n<li>Generous PTO and holidays</li>\n<li>Excellent health coverage and life insurance benefits</li>\n<li>Generous, paid parental leave which covers up to 15 weeks</li>\n<li>Pet-friendly offices</li>\n</ul>\n<p><strong>WHAT YOU'LL DO:</strong></p>\n<ul>\n<li>Architect and build state-of-the-art web &amp; mobile application using a variety of languages and tools</li>\n<li>Build distributed backend application in the cloud</li>\n<li>Understand repeatable automated processes for building the application, test it, document it, and deploy it at scale</li>\n<li>A desire to work as part of a growing, fast-paced, and highly-flexible team</li>\n<li>Work closely with, and incorporate feedback from, product designers and other stakeholders in the company</li>\n<li>Be able to develop a project through its entire lifecycle</li>\n<li>Have strong attention to details, a strong sense of ownership, pride in the quality of one's work and the ability to meet deadlines</li>\n<li>Provide technical direction and guidance, as well as draft specifications, architect solutions, define timelines, advise on industry best practice and problems to be solved</li>\n</ul>\n<p><strong>WHAT WE LOOK FOR:</strong></p>\n<ul>\n<li>Knowledge of Python (4+ years)</li>\n<li>Knowledge of Django (2+ years)</li>\n<li>Experience with Celery, RESTful APIs and server-side APIs integration</li>\n<li>Knowledge of ORM, SQL and Data Modeling</li>\n<li>Experience with TDD and ability to write quality unit tests</li>\n<li>Experience with AWS, cloud deployments, devops and web security</li>\n<li>Knowledge of JavaScript, HTML5, CSS3</li>\n<li>Ability to quickly learn new technologies and adapt to a fast-paced development environment</li>\n</ul>\n<p>BlueVine’s mission is to help business owners succeed and thrive by making sure they have convenient access to capital for their everyday funding needs. We’ve helped thousands of businesses since we started in 2013, funding more than $1 billion in working capital through our pioneering online platform. Our invoice factoring product allows business to receive cash advances on their outstanding invoices, offering factoring lines of up to $5 million. Our business line of credit product, called Flex Credit, offers financing based on 6-month and 12-month payment terms, and credit lines of up to $250,000. Based in Redwood City, Calif., BlueVine is backed by leading venture capital firms.</p>\n",
        		"<p>DESCRIPTION: Changing the world is all in a day's work at Apple. If you love innovation, here's your chance to make a career of it. You'll work hard. But the job comes with more than a few perks.</p>\n<p>Job Summary:</p>\n<ul>\n<li>Marcom is Apple’s Global Marketing Communications group. We lead all of Apple’s advertising and marketing to ensure the flawless development and execution of world class communications.</li>\n<li>\n<a href=\"http://apple.com\">http://apple.com</a> is a critical part of Apple’s product marketing strategy and a showcase for internet standards and innovation. In the role of Full Stack Engineer, you build the development, testing and content integration pipeline for the platform. We expect you to grow developer productivity, enable continuous deployment, flawless content editing and minimize QA lifecycles.</li>\n</ul>\n<p>Key Qualifications:\nStrong JavaScript/Node.js skills, with experience developing web applications and a real passion for learning more.\nYou have an understanding of npm, and experience with publishing modules\nExperience with web packaging tools like browserify, webpack and babel\nYou have capabilities in code quality linters like eslint and knowledge of JavaScript testing frameworks like Jasmine\nYou are proficient in web application security; incorporating security into the software development lifecycle\nYou're familiar with database architecture, scalability and performance and have experience of continuous integration and Jenkins\nYou have Broad UNIX knowledge and skills and are proficient working in bash\nYou have strong verbal and written interpersonal skills\nYou have experience with agile development processes and maintain a philosophy of writing performant, maintainable JavaScript\nYou dream of working in a creative and dynamic environment.</p>\n<p>Description:\nCollaborates with other technical teams on DevOps responsibilities for application deployment, performance, monitoring, reliability and scalability</p>\n<p>Manages expectations and provides ongoing status updates to team members.</p>\n<p>Responsible for critical architectural planning, approaches to content management, integration and serving applications across the development pipeline.</p>\n<p>Uses virtual machines and containerization technologies such as Docker and leads development efforts on large-scale web-based projects,</p>\n<p>Ensures robust and lasting solutions are selected and embraced.</p>\n<p>Works under tight deadlines and keeps producers updated on an ongoing basis.</p>\n<p>Develops positive multi-functional relationships and works well with all levels of management.</p>\n<p>Provides solutions to complex problems in a concise and articulate way.</p>\n<p>Seen as the 'go to</p>\n<p>Apple is an Equal Opportunity Employer that is committed to inclusion and diversity. We also take affirmative action to offer employment and advancement opportunities to all applicants, including minorities, women, protected veterans, and individuals with disabilities. Apple will not discriminate or retaliate against applicants who inquire about, disclose, or discuss their compensation or that of other applicants.</p>\n<p>REQUISITION NUMBER: 113025781\nCOMPANY NAME: Apple Inc.</p>\n",
        		"<p>Backend Web Developer (Software Developer III Non-IT)\nBio-Rad Laboratories</p>\n<p>Overview\nWho We Are and What We Do</p>\n<p>Bio-Rad is an established Fortune 1000 biotech company that creates products that help people live longer, healthier lives. Bio-Rad’s Digital Biology Group (DBG) in Pleasanton makes products (including data products) that are helping to eradicate cancer (among other things). We’ve worked hard at building a great culture here at the DBG that cultivates collaboration and innovation, and people are honestly really passionate about what they do here. Check Us Out</p>\n<p>What We Are Looking For</p>\n<p>A solid backend developer who will develop and own our cloud-based applications and platform for all our data products at the DBG. Are you passionate about delivering highly scalable and reusable code? Does driving and influencing cloud strategy at a Fortune 1000 company excite you?</p>\n<p>Responsibilities</p>\n<ul>\n<li>Be one of the founding members of our new cloud data platform.</li>\n<li>Work in a collaborative environment to apply well architected solutions within this space.</li>\n<li>Architect complex business logic and features to add to our web based applications from concept to implementation.</li>\n<li>Work alongside Scientists, Marketing, and R&amp;D Engineers through the Product Development life cycle and beyond.</li>\n<li>Develop / Improve the core infrastructure for high scalability.</li>\n<li>Working with an awesome group of humble, (super smart), hardworking team players that own their technical debt and slay it.</li>\n</ul>\n<p>Qualifications</p>\n<ul>\n<li>5+ years’ experience as a Software Developer.</li>\n<li>Hands-on development experience with Python, Flask and Java in Linux environments.</li>\n<li>Have successfully built scalable APIs according to best practices.</li>\n<li>Experience with MySql, NoSQL databases, familiarity with Spark or Redshift Data warehousing.</li>\n<li>Experience with Cloud Hosting (AWS preferred).</li>\n<li>Quick learner with the ability to understand complex workflows and develop and validate innovative solutions to solve difficult problems.</li>\n<li>Experienced with test automation: TDD, unit/integration/functional testing.</li>\n<li>Experienced implementation efforts following an Agile software development lifecycle approach.</li>\n<li>Excellent communication skills, both written and verbal.</li>\n<li>A team-oriented contributor that aims to enhance the effectiveness of their colleagues.</li>\n</ul>\n<p>About Bio-Rad:</p>\n<p>Bio-Rad is a global leader providing a broad array of clinical diagnostics and life science research products. With a team of more than 7,800 employees and a global network of operations serving our customers, we help people live longer, healthier lives.</p>\n<p>Bio-Rad was founded over six decades ago and has continued to provide the healthcare industry with innovative and useful products that help life science researchers accelerate the discovery process and medical diagnostic labs obtain faster, better results.</p>\n<p>EEO/AA Employer/Veterans/Disabled/Race/Ethnicity/Gender/Age</p>\n<p>Agency Non-Solicitation:</p>\n<p>Bio-Rad does not accept agency resumes, unless the agency has been authorized by a Bio-Rad Recruiting Representative. Please do not submit resumes unless authorized to do so. Bio-Rad will not pay for any fees related to unsolicited resumes.</p>\n",
        		"<p>The Job:</p>\n<p>Traction is looking for a Lead Full Stack Developer."};
        List<List<String>> words = extractKeywords(textList);
        for (List<String> ws : words) {
            for (String w : ws) {
                System.out.println(w);
            }
            System.out.println();
        }
    }

    public static List<List<String>> extractKeywords(String[] text) {
        if (text == null || text.length == 0) {
            return new ArrayList<>();
        }

        // Use the API key from your account
        MonkeyLearn ml = new MonkeyLearn(API_KEY);

        // Use the keyword extractor
        ExtraParam[] extraParams = { new ExtraParam("max_keywords", "3") };
        MonkeyLearnResponse response;
        try {
            response = ml.extractors.extract("ex_YCya9nrn", text, extraParams);//change to your model id
            JSONArray resultArray = response.arrayResult;
            return getKeywords(resultArray);
        } catch (MonkeyLearnException e) {// it’s likely to have an exception
            e.printStackTrace();
        }
        return new ArrayList<>();
    }

    private static List<List<String>> getKeywords(JSONArray mlResultArray) {
        List<List<String>> topKeywords = new ArrayList<>();
        // Iterate the result array and convert it to our format.
        for (int i = 0; i < mlResultArray.size(); ++i) {
            List<String> keywords = new ArrayList<>();
            JSONArray keywordsArray = (JSONArray) mlResultArray.get(i);
            for (int j = 0; j < keywordsArray.size(); ++j) {
                JSONObject keywordObject = (JSONObject) keywordsArray.get(j);
                // We just need the keyword, excluding other fields.
                String keyword = (String) keywordObject.get("keyword");
                keywords.add(keyword);

            }
            topKeywords.add(keywords);
        }
        return topKeywords;
    }
}
